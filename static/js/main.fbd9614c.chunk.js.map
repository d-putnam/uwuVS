{"version":3,"sources":["components/canvas/shaders/fragShader01.js","components/canvas/shaders/fragShader02.js","components/canvas/shaders/fragShader03.js","components/canvas/Three.js","components/canvas/shaders/brcosaShader.js","components/canvas/shaders/fbxShader.js","components/nav/svg/shaders.svg","components/nav/svg/presets.svg","components/nav/svg/fx.svg","components/nav/svg/sine.svg","components/nav/svg/info.svg","components/nav/Nav.js","components/controls/ShaderControl.js","components/controls/WaveControl.js","components/controls/FbxControl.js","components/info/Presets.js","components/info/About.js","helpers.js","defaultData.js","App.js","index.js"],"names":["fragShader1","fragShader2","fragShader3","Three","Component","constructor","props","super","sceneSetup","this","scene","THREE","camera","state","width","height","position","z","clock","now","getElapsedTime","geometry","renderer","antialias","setPixelRatio","window","devicePixelRatio","setSize","mount","appendChild","domElement","drawSceneSetup","drawScene","drawTexture","minFilter","magFilter","activeShader","fshader","drawMaterial","uniforms","u_resolution","value","x","y","u_time","u_0","u_1","u_2","u_3","u_4","u_5","u_6","u_7","u_8","fragmentShader","drawPlane","add","brcosaSceneSetup","brcosaScene","brcosaTexture","brcosaMaterial","type","texture","u_9","u_10","u_11","brcosaPlane","fbxSceneSetup","fbxScene","textureA","textureB","fbxMaterial","bufferTexture","u_12","u_13","u_14","u_15","fbxPlane","finalMaterial","map","outputPlane","startAnimationLoop","setRenderTarget","render","t","material","requestID","requestAnimationFrame","handleWindowResize","console","log","setState","innerWidth","outerHeight","innerHeight","aspect","updateProjectionMatrix","updateSliders","i","target","changeShader","needsUpdate","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","cancelAnimationFrame","controls","dispose","componentDidUpdate","React","createElement","className","ref","_path","_path2","_excluded","_extends","Object","assign","bind","n","e","arguments","length","r","hasOwnProperty","call","apply","SvgShaders","_ref","svgRef","title","o","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","propertyIsEnumerable","_objectWithoutProperties","viewBox","fill","d","ForwardRef","forwardRef","SvgPresets","SvgFx","SvgSine","SvgInfo","Nav","windowState","handler","getStyle","index","classList","onClick","ShaderLogo","WaveLogo","FxLogo","PresetLogo","InfoLogo","ShaderControl","id","getWindowState","WaveControl","sliders","filter","slider","key","min","max","data-target","data-min","data-max","onChange","Presets","presets","activePreset","changeHandler","saveHandler","undefined","getLabel","button","About","style","fontWeight","href","fontSize","scale","inputY","xRange","yRange","xMin","xMax","yMin","yMax","Number","sleep","ms","Promise","resolve","setTimeout","defaultData","App","canvas","document","WebGLRenderingContext","getContext","handleShaderChange","handleSliderChange","dataset","sliderArray","async","scaledVal","targetVal","unit","newVal","uniformArray","uniform","lerp","slide","handlePresetChange","handlePresetSave","slidersClone","JSON","parse","stringify","preset","presetArray","set","output","concat","localStorage","setItem","handleWindowChange","windowArray","screen","showHideControls","handleKeyPress","keyCode","hideAllState","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","midiMount","navigator","requestMIDIAccess","then","onMIDISuccess","onMIDIFailure","midiAccess","input","inputs","values","onmidimessage","getMIDIMessage","midiMessage","data","getItem","webglSupported","checkWebGLSupport","location","protocol","FbxControl","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fbd9614c.chunk.js","sourcesContent":["const fragShader1 = `\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform float u_time;\n  uniform vec2 u_resolution;\n  uniform float u_0; // wave 1\n  uniform float u_1; // wave 2\n  uniform float u_2; // wave 3\n  uniform float u_3; // wave 4\n  uniform float u_4; // wave 5\n  uniform float u_5; // scanlines\n  uniform float u_6; // scan_rota\n  uniform float u_7; // zoom\n  uniform float u_8; // brightness\n\n  mat2 rotate(float angle){\n    return mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n  }\n\n  void main(){\n    vec2 coord = (gl_FragCoord.xy / u_resolution.xy) * u_7 - u_7;\n    float color = 0.0;\n\n    color += sin(coord.x * u_0 + cos(u_time + coord.y * u_1 + sin(coord.x * u_2 + u_time * 2.0))) * 2.0;\n    color += cos(coord.x * u_3 + sin(u_time + coord.y * u_4 + cos(coord.x * 20.0 + u_time * 2.0))) * 2.0;\n\n    coord = rotate( u_6 ) * coord;\n    color *= cos(coord.y * u_5 + sin(u_time + coord.y)) * 5.5;\n\n    gl_FragColor = vec4(vec3(color, color, color + u_8 / 2.0) * 1.0 + u_8, 1.0 );\n  }\n`;\n\nexport { fragShader1 }","const fragShader2 = `\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform float u_time;\n  uniform vec2 u_resolution;\n  uniform float u_0;\n  uniform float u_1;\n  uniform float u_2;\n  uniform float u_3;\n  uniform float u_4;\n  uniform float u_5;\n  uniform float u_6; // rota\n  uniform float u_7; // zoom\n  uniform float u_8; // brightness\n\n\n  mat2 rotate(float angle){\n    return mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n  }\n\n  void main(){\n    vec2 coord = (gl_FragCoord.xy / u_resolution.xy) * u_7;\n    float color = 0.0;\n\n    coord = rotate( u_6 ) * coord;\n\n    color += sin(coord.y) + atan(u_time + coord.y) + sin(u_0 * coord.x / u_time) * 2.0;\n    color += sin(coord.x * u_0 + tan(u_time + coord.y * u_2 + sin(coord.x * u_4 + u_time))) * 2.0;\n    color += cos(coord.x * u_1 + tan(u_time + coord.y * u_3 + cos(coord.x * u_5 + u_time))) * 2.0;\n\n    gl_FragColor = vec4(vec3(color - sin(coord.x * u_time) , color - cos(coord.y * u_time + 9.0), color - sin(coord.y * u_time)) * -0.5 + u_8, 1.0 );\n  }\n`\n\nexport { fragShader2 }","const fragShader3 = `\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform float u_time;\n  uniform vec2 u_resolution;\n  uniform float u_0;\n  uniform float u_1;\n  uniform float u_2;\n  uniform float u_3;\n  uniform float u_4;\n  uniform float u_5;\n  uniform float u_6;\n  uniform float u_7;\n  uniform float u_8;\n\n\nvoid main(){\n  vec2 coord = 6.0 * vec2(gl_FragCoord.xy / u_resolution);\n\n  for(int i = 1; i < 4; i++) {\n    float n = float(i);\n    coord += vec2(u_7 / n * sin(n * coord.y + u_0 * n) + 0.8, 0.4 / n * sin(coord.x + u_1 * n) + 1.6);\n  }\n\n  vec3 color = vec3(u_1 * sin(coord.x) + 0.8, 0.5 * sin(coord.y) + 1.0, sin(coord.x + coord.y));\n  color += sin(coord.y * cos(u_time / 20.0)) + u_8 + sin(coord.y * cos(u_time / 30.0) * u_2);\n  color += sin(coord.x * sin(u_time / 30.0) * u_4) + cos(coord.x * cos((u_time / 200.0) ) * ((((u_time + 100.0) / 200.0) * u_6)) / u_4) / u_5 + 0.5;\n  color -= cos(coord.y * sin(u_time / 50.0) * u_3);\n\n  gl_FragColor = vec4(color, 1.20);\n}\n`\n\nexport { fragShader3 }","import React, { Component } from 'react';\nimport * as THREE from 'three';\n//import {isMobile} from 'react-device-detect';\nimport { fragShader1 } from './shaders/fragShader01.js'\nimport { fragShader2 } from './shaders/fragShader02.js'\nimport { fragShader3 } from './shaders/fragShader03.js'\nimport { brcosaShader } from './shaders/brcosaShader.js'\nimport { fbxShader } from './shaders/fbxShader.js'\n\n\nclass Three extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {width: window.innerWidth, height: window.outerHeight}\n  }\n\n  componentDidMount() {\n    this.sceneSetup();\n    this.drawSceneSetup();\n    this.brcosaSceneSetup();\n    this.fbxSceneSetup();\n    this.startAnimationLoop();\n    window.addEventListener('resize', this.handleWindowResize);\n    //window.addEventListener(\"orientationchange\", this.handlwWindowResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize);\n    //window.removeEventListener(\"orientationchange\", this.handlwWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n  }\n\n  componentDidUpdate() {\n    this.updateSliders();\n    this.changeShader();\n  }\n\n\n  sceneSetup = () => {\n\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.OrthographicCamera( \n      this.state.width / - 2, \n      this.state.width / 2, \n      this.state.height / 2, \n      this.state.height / - 2, \n      1, 1000 );\n    this.camera.position.z = 2;\n\n    this.clock = new THREE.Clock();\n    this.now = this.clock.getElapsedTime();\n\n    // plane geometry will be shared across scenes\n    this.geometry = new THREE.PlaneBufferGeometry(this.state.width, this.state.height);\n\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.state.width, this.state.height);\n    this.mount.appendChild(this.renderer.domElement); // mount using React ref\n  }\n\n  drawSceneSetup = () => {\n    this.drawScene = new THREE.Scene();\n    this.drawTexture = new THREE.WebGLRenderTarget(this.state.width, this.state.height, \n      {minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter}\n    );\n    \n    if (this.props.activeShader === '0') {\n      this.fshader = fragShader1;\n    } else if (this.props.activeShader === '1') {\n      this.fshader = fragShader2;\n    } else if (this.props.activeShader === '2') {\n      this.fshader = fragShader3;\n    }\n\n    this.drawMaterial = new THREE.ShaderMaterial({\n      uniforms: {\n        u_resolution: {value: {x: this.state.width, y: this.state.height}},\n        u_time: {value: this.now},\n        u_0: {value: this.props.uniforms[0]},\n        u_1: {value: this.props.uniforms[1]},\n        u_2: {value: this.props.uniforms[2]},\n        u_3: {value: this.props.uniforms[3]},\n        u_4: {value: this.props.uniforms[4]},\n        u_5: {value: this.props.uniforms[5]},\n        u_6: {value: this.props.uniforms[6]},\n        u_7: {value: this.props.uniforms[7]},\n        u_8: {value: this.props.uniforms[8]},\n      },\n      fragmentShader: this.fshader\n    });\n    this.drawPlane = new THREE.Mesh(this.geometry, this.drawMaterial);\n    this.drawScene.add(this.drawPlane);\n  }\n\n  brcosaSceneSetup = () => {\n    this.brcosaScene = new THREE.Scene();\n    this.brcosaTexture = new THREE.WebGLRenderTarget(this.state.width, this.state.height, \n      {minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter}\n    );\n\n    this.brcosaMaterial = new THREE.ShaderMaterial({\n      uniforms: {\n        drawTexture: {type: \"t\", value: this.drawTexture.texture},\n        u_resolution: {value: {x: this.state.width, y: this.state.height}},\n        u_time: {value: this.now},\n        u_9: {value: this.props.uniforms[9]},\n        u_10: {value: this.props.uniforms[10]},\n        u_11: {value: this.props.uniforms[11]},\n      },\n      fragmentShader: brcosaShader\n    });\n    this.brcosaPlane = new THREE.Mesh(this.geometry, this.brcosaMaterial);\n    this.brcosaScene.add(this.brcosaPlane);\n  }\n\n  fbxSceneSetup = () => {\n    this.fbxScene = new THREE.Scene();\n    // Create 2 buffer textures\n    this.textureA = new THREE.WebGLRenderTarget(this.state.width, this.state.height, \n      {minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter}\n    );\n    this.textureB = new THREE.WebGLRenderTarget(this.state.width, this.state.height, \n      {minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter}\n    );\n    // Pass textureA to shader\n    this.fbxMaterial = new THREE.ShaderMaterial({\n      uniforms: {\n       bufferTexture: {type: \"t\", value: this.textureA.texture},\n       u_resolution: {value: {x: this.state.width, y: this.state.height}},\n       drawTexture: {type: \"t\", value: this.brcosaTexture.texture},\n       u_time: {value: this.now},\n       u_12: {value: this.props.uniforms[12]}, \n       u_13: {value: this.props.uniforms[13]}, \n       u_14: {value: this.props.uniforms[14]}, \n       u_15: {value: this.props.uniforms[15]}, \n      },\n      fragmentShader: fbxShader\n    });\n    this.fbxPlane = new THREE.Mesh(this.geometry, this.fbxMaterial);\n    this.fbxScene.add(this.fbxPlane);\n    \n    //Draw finalTexture (textureB) to screen \n    this.finalMaterial =  new THREE.MeshBasicMaterial({map: this.textureB});\n    this.outputPlane = new THREE.Mesh(this.geometry, this.finalMaterial);\n    this.scene.add(this.outputPlane);\n  }\n\n\n  startAnimationLoop = () => {\n\n    this.now = this.clock.getElapsedTime();\n    this.drawMaterial.uniforms.u_time.value = this.now;\n    this.fbxMaterial.uniforms.u_time.value = this.now;\n    \n    // Draw our DRAW scene\n    this.renderer.setRenderTarget(this.drawTexture);\n    this.renderer.render(this.drawScene, this.camera);\n    this.renderer.setRenderTarget(null);\n\n    //brcosa\n    this.renderer.setRenderTarget(this.brcosaTexture);\n    this.renderer.render(this.brcosaScene, this.camera);\n    this.renderer.setRenderTarget(null);\n\n    // Draw to textureB\n    this.renderer.setRenderTarget(this.textureB);\n    this.renderer.render(this.fbxScene, this.camera);\n    this.renderer.setRenderTarget(null);\n    \n    // Swap textureA and B\n    let t = this.textureA;\n    this.textureA = this.textureB;\n    this.textureB = t;\n    this.outputPlane.material.map = this.textureB.texture;\n    this.fbxMaterial.uniforms.bufferTexture.value = this.textureA.texture;\n\n    this.renderer.render(this.scene, this.camera);\n    this.requestID = window.requestAnimationFrame(this.startAnimationLoop);\n  };\n\n  handleWindowResize = () => {\n    console.log('hey')\n    this.setState({width: window.innerWidth, height: window.outerHeight})\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.camera.aspect = this.state.width / this.state.height;\n    this.camera.updateProjectionMatrix();\n  };\n\n\n\n  updateSliders = () => {\n    // update each slider\n    for (let i=0; i<16; i++) {\n      let target = 'u_' + i;\n      let value = this.props.uniforms[i];\n      if (i < 9) {\n        this.drawMaterial.uniforms[target] = {value: value};\n      } else if (i >= 9 && i <= 11) {\n        this.brcosaMaterial.uniforms[target] = {value: value};\n      } else if (i > 11) {\n        this.fbxMaterial.uniforms[target] = {value: value};\n      }\n    }\n  }\n\n  changeShader = () => {\n    // update the active shader\n    if (this.props.activeShader === '0'){\n      this.drawMaterial.fragmentShader = fragShader1;\n    } else if (this.props.activeShader === '1'){\n      this.drawMaterial.fragmentShader = fragShader2;\n    } else {\n      this.drawMaterial.fragmentShader = fragShader3;\n    }\n    this.drawMaterial.needsUpdate = true;\n  }\n\n  render() {\n    return <div className=\"canvas\" ref={ref => (this.mount = ref)} />;\n  }\n}\n\nexport default Three;\n","const brcosaShader = `\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform vec2 u_resolution; \n  uniform sampler2D drawTexture;\n  uniform float u_9;\n  uniform float u_10;\n  uniform float u_11;\n\n  vec3 hueShift(vec3 color, float hue) {\n    const vec3 k = vec3(0.57735, 0.57735, 0.57735);\n    float cosAngle = cos(hue);\n    return vec3(color * cosAngle + cross(k, color) * sin(hue) + k * dot(k, color) * (1.0 - cosAngle));\n  }\n\n  void main() {\n    vec2 st = gl_FragCoord.xy / (u_resolution);\n    vec2 uv = st;\n    uv *= 0.998;\n    vec3 texColor = texture2D(drawTexture, uv).rgb;\n\n    const vec3 LumCoeff = vec3(0.2125, 0.7154, 0.0721);\n    vec3 AvgLumin = vec3(0.5, 0.5, 0.5);\n    vec3 intensity = vec3(dot(texColor, LumCoeff));\n\n    vec3 satColor = mix(intensity, texColor, u_10);\n    vec3 conColor = mix(AvgLumin, satColor, u_9);\n\n    vec3 hueColor = hueShift(conColor, u_11);\n\n    gl_FragColor = vec4(1.0 * hueColor, 1.0);\n  }\n`\n\nexport { brcosaShader }","const fbxShader = `\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform vec2 u_resolution; //The width and height of our screen\n  uniform sampler2D bufferTexture; //Our input texture\n  uniform sampler2D drawTexture;\n  uniform float u_time;\n  uniform float u_12;\n  uniform float u_13;\n  uniform float u_14;\n  uniform float u_15;\n\n  void main() {\n    vec2 st = gl_FragCoord.xy / (u_resolution);\n    vec2 uv = st;\n    uv *= u_15;\n\n    vec4 sum = texture2D(bufferTexture, uv);\n    vec4 src = texture2D(drawTexture, uv);\n    sum.r = mix(sum.r, src.r,  sin(u_12));\n    sum.g = mix(sum.g, src.g,  sin(u_13));\n    sum.b = mix(sum.b, src.b,  sin(u_14));\n    gl_FragColor = sum;\n  }\n`\n\nexport { fbxShader }","var _path, _path2;\nconst _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React from \"react\";\nconst SvgShaders = _ref => {\n  let {\n      svgRef,\n      title\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgShaders, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/shaders.0582cb71.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\nconst _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React from \"react\";\nconst SvgPresets = _ref => {\n  let {\n      svgRef,\n      title\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgPresets, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/presets.f6dcf00d.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\nconst _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React from \"react\";\nconst SvgFx = _ref => {\n  let {\n      svgRef,\n      title\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 18h2V6H7v12zm4 4h2V2h-2v20zm-8-8h2v-4H3v4zm12 4h2V6h-2v12zm4-8v4h2v-4h-2z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgFx, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/fx.174dc393.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nconst _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React from \"react\";\nconst SvgSine = _ref => {\n  let {\n      svgRef,\n      title\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgSine, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/sine.5a3c2187.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\nconst _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React from \"react\";\nconst SvgInfo = _ref => {\n  let {\n      svgRef,\n      title\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgInfo, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/info.704cfdd2.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport {ReactComponent as ShaderLogo} from './svg/shaders.svg';\nimport {ReactComponent as PresetLogo} from './svg/presets.svg';\nimport {ReactComponent as FxLogo} from './svg/fx.svg';\nimport {ReactComponent as WaveLogo} from './svg/sine.svg';\nimport {ReactComponent as InfoLogo} from './svg/info.svg';\nimport './Nav.css';\n\nconst Nav = ({ windowState, handler }) => {\n  const getStyle = (index) => {\n    let classList = 'nav-button ';\n    if (windowState[index] === 1) {\n      classList += 'active '\n    } \n    return classList;\n  }\n\n  return (\n    <nav className=\"nav\">\n      <button value={0} className={getStyle(0)} onClick={handler} title=\"Shader select [Q]\">\n        <ShaderLogo className=\"shader-icon\" />\n      </button>\n      <button value={1} className={getStyle(1)} onClick={handler} title=\"Wave controls [W]\">\n        <WaveLogo className=\"wave-icon\" />\n      </button>\n      <button value={2} className={getStyle(2)} onClick={handler} title=\"Feedback controls [E]\">\n        <FxLogo className=\"fbx-icon\" />\n      </button>\n      <button value={3} className={getStyle(3)} onClick={handler} title=\"Presets [R]\">\n        <PresetLogo className=\"preset-icon\" />\n      </button>\n      <button value={4} className={getStyle(4)} onClick={handler} title=\"About [T]\">\n        <InfoLogo className=\"info-icon\" />\n      </button>\n    </nav>\n  )\n}\n\nexport default Nav;","import React from 'react';\nimport './controls.css';\n\nconst ShaderControl = ({ windowState, activeShader, handler }) => {\n  const getWindowState = () => {\n    let classList = 'ctrl-module ';\n    if (windowState[0] === 0) {\n      classList += 'hidden '\n    } else {\n      classList += 'showing '\n    }\n    return classList;\n  }\n\n  return (\n    <div id=\"shader-ctrl\" value={activeShader} className={getWindowState()}>\n      <header className=\"center label\">SHADERS</header>\n      <br />\n      <div className=\"center\">\n        <button className={activeShader === '0' ? 'button active' : 'button inactive'}\n                onClick={handler} \n                value={0} \n                title=\"Shader 1 [Z]\">[Z]</button>\n        <button className={activeShader === '1' ? 'button active' : 'button inactive'}\n                onClick={handler} \n                value={1}\n                title=\"Shader 2 [X]\">[X]</button>\n        <button className={activeShader === '2' ? 'button active' : 'button inactive'}\n                onClick={handler} \n                value={2} \n                title=\"Shader 3 [C]\">[C]</button>\n      </div>\n    </div>\n  )\n}\n\nexport default ShaderControl;","import React from 'react';\nimport './controls.css';\n\n\nconst WaveControl = ({ windowState, activeShader, sliders, handler }) => {\n\n  const getWindowState = () => {\n    let classList = 'ctrl-module ';\n    if (windowState[1] === 0) {\n      classList += 'hidden '\n    } else {\n      classList += 'showing '\n    }\n    return classList;\n  } \n\n  return (\n    <div id=\"wave-ctrl\" className={getWindowState()}>\n      <header className=\"center label\">WAVES</header>\n      <br />\n      <div className=\"slider-wrap\">\n        { sliders[activeShader].filter(slider => slider[0] <= 11).map(slider => {\n            return (\n              <div className=\"slider-row\" key={slider[0]}>\n                <input className=\"slider\"\n                  type=\"range\" \n                  min = {0}\n                  max = {127}\n                  data-target = {slider[0]}\n                  data-min = {slider[1]}\n                  data-max = {slider[2]}\n                  value = {slider[3]} \n                  onChange = {handler} />\n                <span className=\"slider-label\">{slider[4]}</span>\n              </div>\n\n            )\n          })\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default WaveControl;\n","import React from 'react';\nimport './controls.css';\n\n\nconst WaveControl = ({ windowState, activeShader, sliders, handler }) => {\n  const getWindowState = () => {\n    let classList = 'ctrl-module ';\n    if (windowState[2] === 0) {\n      classList += 'hidden '\n    } else {\n      classList += 'showing '\n    }\n    return classList;\n  }\n\n  return (\n    <div id=\"fbx-ctrl\" className={getWindowState()}>\n      <header className=\"center label\">FEEDBACK</header>\n      <br />\n      <div className=\"slider-wrap\">\n        { sliders[activeShader].filter(slider => slider[0] > 11).map(slider => {\n            return (\n              <div className=\"slider-row\" key={slider[0]}>\n                <input className=\"slider\"\n                  type=\"range\" \n                  min = {0}\n                  max = {127}\n                  data-target = {slider[0]}\n                  data-min = {slider[1]}\n                  data-max = {slider[2]}\n                  value = {slider[3]} \n                  onChange = {handler} />\n                <span className=\"slider-label\">{slider[4]}</span>\n              </div>\n            )\n          })\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default WaveControl;\n","import React from 'react';\nimport './info.css';\n\nconst Presets = ({ windowState, presets, activePreset, changeHandler, saveHandler }) => {\n  \n  const getWindowState = () => {\n    let classList = 'info-module ';\n    if (windowState[3] === 0) {\n      classList += 'hidden '\n    } else {\n      classList += 'showing '\n    }\n    return classList;\n  }\n\n  const getStyle = (index) => {\n    let classList = 'button ';\n    if (index === activePreset) {\n      classList += 'active '\n    } else {\n      classList += 'inactive '\n      if (presets[index] === undefined) {\n        classList += 'empty '\n      }\n    }\n    return classList;\n  }\n\n  const getLabel = (index) => {\n    let classList = 'preset-label ';\n    if (presets[index] !== undefined) {\n      classList += 'hidden'\n    }  \n    return classList;\n  }\n\n  const array = [0,1,2,3,4,5,6,7,8,9];\n\n  return (\n    <div id=\"presets\" className={getWindowState()}>\n      <header className=\"center label\">PRESETS</header>\n      <br />\n      <div className=\"center button-wrap\">\n        { array.map(button => {\n            return (\n              <div key={button}>\n                <button onClick={changeHandler} \n                        value={button} \n                        className={getStyle(button)} \n                        title={'Preset [' + (button + 1) + ']' }>\n                  [{button + 1 !== 10 ? button + 1 : 0}]\n                </button>\n                <span className={getLabel(button)}>EMPTY</span>\n              </div>\n            )\n          })\n        }\n      </div>\n      <div className=\"center submit-wrap\">\n        <button className=\"save button\" title=\"save preset [S]\" onClick={saveHandler}>save preset [S]</button>\n      </div>\n    </div>\n  )\n}\n\nexport default Presets;","import React from 'react';\nimport './info.css';\n\nconst About = ({windowState}) => {\n\t\n\tconst getWindowState = () => {\n    let classList = 'info-module ';\n    if (windowState[4] === 0) {\n      classList += 'hidden '\n    } else {\n      classList += 'showing '\n    }\n    return classList;\n\t}\n\t\n  return (\n    <div id=\"about\" className={getWindowState()}>\n      <div className=\"text-container\">\n        <header style={{fontWeight:'bold'}} className=\"center label\">ABOUT</header>\n        <p>uwu-VS is a semi-modular video synthesis instrument for web browsers.</p>  \n        <p>Inspired by live coding environments <a href=\"https://hydra.ojack.xyz/\" target=\"blank\">HYDRA</a> by Olivia Jack, and <a href=\"https://shawnlawson.github.io/The_Force/\" target=\"blank\">THE FORCE</a> by Shawn Lawson, I wanted to make a\n            browser app flexible enough for live performance but accessible to users without any prior coding experience (though MIDI scripting is encouraged!)</p>\n        <p>Built using GLSL and three.js, the structure is as follows:</p>\n        <ul>\n          <li>Our (drawShader) creates an initial texture based on the sliders in the (WAVES) table\n          </li>\n          <li>This texture is passed to our (feedbackShader) and processed based on the sliders in the (FEEDBACK) table</li>\n        </ul>\n        <p>The active (drawShader) can be changed via the (SHADERS) table or keys [z], [x], [c].</p>\n        <p>To save a preset, press the [s] key. This will save the current arrangement of sliders (for each shader) to number keys [1]-[0].\n            Once all ten slots are filled, saving a preset will overwrite the current selection.\n        </p>\n        <p>All parameters can be controlled via the Web MIDI API (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MIDIAccess#Browser_compatibility\" target=\"blank\">click here for supported browsers</a>)\n            meaning uwu-VS plays well with others! Try using a control surface or sending MIDI messages from another program (Ableton, Max/MSP, etc.)</p>\n        <p>Below you can find a table of accepted keyboard shortcuts and MIDI messages:</p>\n        <table>\n          <tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Key</th>\n\t\t\t\t\t\t\t<th>MIDI CC#</th>\n\t\t\t\t\t\t\t<th>Function</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>[esc]</td>\n\t\t\t\t\t\t\t<td>-</td>\n\t\t\t\t\t\t\t<td>fullscreen window</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>[~]</td>\n\t\t\t\t\t\t\t<td>-</td>\n\t\t\t\t\t\t\t<td>hide all UI elements</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>[s]</td>\n\t\t\t\t\t\t\t<td>40 <br /> (trigger value: 127)</td>\n\t\t\t\t\t\t\t<td>save current preset</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>[1]-[0]</td>\n\t\t\t\t\t\t\t<td>20-29 <br /> (trigger value: 127)</td>\n\t\t\t\t\t\t\t<td>recall preset</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>[z] [x] [c]</td>\n\t\t\t\t\t\t\t<td>30, 21, 32 <br /> (trigger value: 127)</td>\n\t\t\t\t\t\t\t<td>select active drawShader</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>-</td>\n\t\t\t\t\t\t\t<td>0-11 (value 0-127)</td>\n\t\t\t\t\t\t\t<td>drawShader sliders</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>-</td>\n\t\t\t\t\t\t\t<td>12-15 (value 0-127)</td>\n\t\t\t\t\t\t\t<td>feedbackShader sliders</td>\n\t\t\t\t\t\t</tr>\n          </tbody>\n\t\t\t\t</table>\n\t\t\t\t<span style={{fontSize: 'smaller'}}>\n\t\t\t\t\t 2020 d putnam\n\t\t\t\t</span>\n      </div>\n    </div>\n  )\n}\n\nexport default About;","// Scaling function for sliders\nexport const scale = (inputY, xRange, yRange) => {\n  const [xMin, xMax] = xRange;\n  const [yMin, yMax] = yRange;\n  const percent = (inputY - yMin) / (yMax - yMin);\n  const outputX = Number(percent) * (xMax - xMin) + xMin;\n  return outputX;\n};\n\n// Linear interp function (start, end, alpha 0-1)\nexport const lerp = (v0, v1, t) => {\n  return v0*(1-t)+v1*t;\n}\n\nexport const sleep = (ms) => {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}","export const defaultData = [\n  [\n    [0, 1, 30, 0, '1'],\n    [1, 150, 10, 30, '2'],\n    [2, 1, 200, 110, '3'],\n    [3, 20, 50, 118, '4'],\n    [4, 1, 100, 26, '5'],\n    [5, 0, 100, 0, 'scan'],\n    [6, 0, 2.09, 0, 'rota'],\n    [7, 0.5, 0.1, 60, 'zoom'],\n    [8, -1, 2, 45, 'brightness'],\n\n    [9, 0.65, 1, 127, 'contrast'],\n    [10, 0, 2, 127, 'saturation'],\n    [11, 0, 6.28, 127, 'hue'],\n\n    [12, .4, 0, 60, 'R'],\n    [13, .4, 0, 9, 'G'],\n    [14, .3, 0, 83, 'B'],\n    [15, 1., 0.98, 0, '']\n  ], \n  [\n    [0, 1, 90, 1, '1'],\n    [1, 1, 100, 127, '2'],\n    [2, 1, 100, 100, '3'],\n    [3, 0, 100, 127, '4'],\n    [4, -100, 100, 100, '5'],\n    [5, -100, 100, 0, '6'],\n    [6, -0.50, 0.5, 42, 'rota'],\n    [7, .4, .1, 63, 'zoom'],\n    [8, 0, 2, 68, 'brightness'],\n    \n    [9, 0.65, 1, 71, 'contrast'],\n    [10, 0, 2, 60, 'saturation'],\n    [11, 0, 6.28, 127, 'hue'],\n\n    [12, .4, 0, 30, 'R'],\n    [13, .4, 0, 0, 'G'],\n    [14, .3, 0, 10, 'B'],\n    [15, 1., 0.98, 0, '']\n  ], \n  [\n    [0, 0, 5, 119, '1'],\n    [1, 0., 5.0, 26, '2'],\n    [2, 10, 30, 99, '3'],\n    [3, 0, 15, 0, '4'],\n    [4, 1, 7, 40, '5'],\n    [5, 0.1, 1, 31, '6'],\n    [6, 15, 80, 100, '7'],\n    [7, 0, 1.5, 110, 'warp'],\n    [8, -2, 1, 31, 'brightness'],\n\n    [9, 0.65, 1, 127, 'contrast'],\n    [10, 0, 2, 127, 'saturation'],\n    [11, 0, 6.28, 127, 'hue'],\n\n    [12, .4, 0, 101, 'R'],\n    [13, .4, 0, 39, 'G'],\n    [14, .3, 0, 92, 'B'],\n    [15, 1., 0.98, 18, '']\n  ]\n]","import React, {Component} from 'react';\nimport Three from \"./components/canvas/Three.js\";\nimport Nav from \"./components/nav/Nav.js\"\nimport ShaderControl from \"./components/controls/ShaderControl.js\"\nimport WaveControl from \"./components/controls/WaveControl.js\"\nimport FbxControl from \"./components/controls/FbxControl.js\"\nimport Presets from \"./components/info/Presets.js\"\nimport About from \"./components/info/About.js\"\nimport {scale, lerp, sleep} from \"./helpers.js\"; \nimport {defaultData} from \"./defaultData.js\";\nimport './App.css';\n\nclass App extends Component {\n  static checkWebGLSupport() {\n    try {\n      const canvas = document.createElement('canvas');\n      return !!(window.WebGLRenderingContext && (\n        canvas.getContext('webgl') || canvas.getContext('experimental-webgl')\n      ));\n    } catch (e) {\n      return false;\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    window.localStorage.getItem('ursprst')\n      // Load from local storage if available\n      ? this.state = {\n          sliders: JSON.parse(localStorage.getItem('ursprst'))[0]['sliders'],\n          activeShader: JSON.parse(localStorage.getItem('ursprst'))[0]['activeShader'],\n          activePreset: 0,\n          windowState:   window.screen.width < 813\n                          ? window.screen.height < 415\n                            ? [1, 0, 0, 0, 0]\n                            : window.screen.width < 415\n                              ? [1, 0, 0, 0, 0]\n                              : [1, 1, 1, 0, 0]\n                          : [1, 1, 1, 0, 0],\n          hideAllState: false,\n          uniforms: JSON.parse(localStorage.getItem('ursprst'))[0]['uniforms'],\n          presets: JSON.parse(localStorage.getItem('ursprst')),\n          webglSupported: App.checkWebGLSupport(),\n        }\n      // Load defaults if no local storage data\n      : this.state = {\n          sliders: JSON.parse(JSON.stringify(defaultData)),\n          activeShader: '0',\n          activePreset: 0,\n          windowState: window.screen.width < 813\n                        ? window.screen.height < 415\n                          ? [1, 0, 0, 0, 0]\n                          : window.screen.width < 415\n                            ? [1, 0, 0, 0, 0]\n                            : [1, 1, 1, 0, 0]\n                        : [1, 1, 1, 0, 0],         \n          hideAllState: false,\n          uniforms: defaultData[0].map(slider => \n            scale(slider[3], [slider[1], slider[2]], [0, 127])),\n          presets: [{activeShader: '0',\n            sliders: JSON.parse(JSON.stringify(defaultData)), \n            uniforms: defaultData[0].map(slider => \n            scale(slider[3], [slider[1], slider[2]], [0, 127]))}]\n      }\n  }\n\n\n  //\n  // set up listeners on mount\n  //\n  componentDidMount() {\n    // Keydown listener for keyboard events\n    window.addEventListener('keydown', this.handleKeyPress)\n    window.location.protocol === \"https:\"\n      ? this.midiMount()\n      : console.log('connect via HTTPS to use MIDI features!')\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress)\n  }\n \n\n  //\n  // shader & slider handlers\n  //\n  handleShaderChange = (e) => {\n    this.setState({activeShader: e.target.value})\n    this.setState({uniforms: this.state.sliders[e.target.value].map(slider => \n      scale(slider[3], [slider[1], slider[2]], [0, 127])\n    )});\n  }\n\n  handleSliderChange = (e) => {  \n    let target = Number(e.target.dataset.target);\n    // Clone array and update slider value\n    let sliderArray = this.state.sliders.map(slider => slider);\n    sliderArray[this.state.activeShader][target][3] = Number(e.target.value);\n    this.setState({sliders: sliderArray})\n    // Get ranges for scaling\n    let xRange = [\n      sliderArray[this.state.activeShader][target][1],\n      sliderArray[this.state.activeShader][target][2]\n    ]\n    let yRange = [Number(0), Number(127)];\n    // Interpolate between original and target values\n    const slide = async () => {\n      for(let i=0; i<10; i++) {\n        // get original, scaled slider value from uniform\n        let scaledVal = this.state.uniforms[target];\n        // get new target value\n        let targetVal = scale(this.state.sliders[this.state.activeShader][target][3], xRange, yRange) / 1.0;\n        // get incremental unit\n        let unit = (scaledVal - lerp(scaledVal, targetVal, 0.1)) * -1.0;\n        // initialize our output variable\n        let newVal = scaledVal;\n        // clone our uniforms array and update\n        let uniformArray = this.state.uniforms.map(uniform => uniform);\n        newVal += Number(unit);\n        uniformArray[target] = newVal;\n        this.setState({uniforms: uniformArray});\n        await sleep(15);\n      }\n    }\n    slide();    \n  }\n\n  //\n  // preset handlers\n  //\n  handlePresetChange = (e) => {\n    if (this.state.presets[e.target.value]) {\n      this.setState({\n        activePreset: Number(e.target.value),\n        activeShader: this.state.presets[e.target.value]['activeShader'],\n        sliders: this.state.presets[e.target.value]['sliders'],\n        uniforms: this.state.presets[e.target.value]['uniforms']\n      })\n    }\n  }\n\n  handlePresetSave = () => {\n    // Deep clone our sliders to lose reference\n    let slidersClone = JSON.parse(JSON.stringify(this.state.sliders))\n    let preset = {\n      activeShader: this.state.activeShader, \n      sliders: slidersClone, \n      uniforms: this.state.uniforms\n    }\n    // Clone our presets array\n    let presetArray = this.state.presets.map(set => set);\n\n    // Only 10 presets, then becomes overwrite\n    if (presetArray.length < 10) {\n      this.setState({activePreset: presetArray.length})\n      let output = presetArray.concat(preset)\n      this.setState({presets: output})\n      window.localStorage.setItem(`ursprst`, JSON.stringify(output));\n    } else {\n      presetArray[this.state.activePreset] = preset\n      this.setState({presets: presetArray})\n      window.localStorage.setItem(`ursprst`, JSON.stringify(presetArray));\n    }\n  }\n\n  //\n  // window handlers\n  //\n  handleWindowChange = (e) => {\n    let windowArray = this.state.windowState.map(window => window);\n    if (window.screen.width < 415) {\n      if (windowArray[e.target.value] === 1){\n        windowArray = this.state.windowState.map(() => 0)\n      } else {\n        windowArray = this.state.windowState.map(() => 0)\n        windowArray[e.target.value] = 1\n      }\n    } else if (window.screen.width < 813 && window.screen.height < 415) {\n      if (windowArray[e.target.value] === 1){\n        windowArray = this.state.windowState.map(() => 0)\n      } else {\n        windowArray = this.state.windowState.map(() => 0)\n        windowArray[e.target.value] = 1\n      }\n    }\n    else {\n      if (windowArray[e.target.value] === 0) {\n        windowArray[e.target.value] = 1\n      } else {\n        windowArray[e.target.value] = 0\n      }\n    }\n    this.setState({windowState: windowArray})\n  }\n\n  showHideControls = () => {\n    let classList = 'controls '\n    if (this.state.windowState[0] === 0 && this.state.windowState[1] === 0 && this.state.windowState[2] === 0) {\n      classList += 'hidden'\n    } else {\n      classList += 'showing'\n    }\n    return classList\n  }\n\n  //\n  // keypress handlers\n  //\n  handleKeyPress = (e) => {\n    if (e.keyCode === 81) {\n      this.handleWindowChange({'target': {'value': 0}});\n    } else if (e.keyCode === 87) {\n      this.handleWindowChange({'target': {'value': 1}});\n    } else if (e.keyCode === 69) {\n      this.handleWindowChange({'target': {'value': 2}});\n    } else if (e.keyCode === 82) {\n      this.handleWindowChange({'target': {'value': 3}});\n    } else if (e.keyCode === 84) {\n      this.handleWindowChange({'target': {'value': 4}});\n    } else if (e.keyCode === 90) {\n      this.handleShaderChange({'target': {'value': '0'}});\n    } else if (e.keyCode === 88) {\n      this.handleShaderChange({'target': {'value': '1'}});\n    } else if (e.keyCode === 67) {\n      this.handleShaderChange({'target': {'value': '2'}});\n    } else if (e.keyCode >= 49 && e.keyCode <= 57) {\n      if (this.state.presets.length >= e.keyCode - 48) {\n        this.handlePresetChange({'target': {'value': e.keyCode - 49}});\n      }\n    } else if (e.keyCode === 48) {\n      if (this.state.presets.length === 10) {\n        this.handlePresetChange({'target': {'value': 9}});\n      }\n    } else if (e.keyCode === 83) {\n      this.handlePresetSave(); //save [s]\n    } else if (e.keyCode === 192) {\n      if (this.state.hideAllState === false) {\n        this.setState({hideAllState: true})\n      } else {\n        this.setState({hideAllState: false})\n      }\n    } else if (e.keyCode === 27) {\n      if (!document.fullscreenElement) {\n        document.documentElement.requestFullscreen();\n      } else {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        }\n      }      \n    }\n  }\n\n  //\n  // midi handlers\n  //\n  midiMount = () => {\n    if (navigator.requestMIDIAccess) {\n      // Request MIDI access\n      navigator.requestMIDIAccess()\n        .then(this.onMIDISuccess, this.onMIDIFailure);  \n    } else {\n      console.log('WebMIDI is not supported in this browser.');\n  }\n\n  }\n  onMIDIFailure = () => {\n    console.log('Could not access your MIDI devices.');\n  }\n  // On success, set up listeners\n  onMIDISuccess = (midiAccess) => {\n    for (var input of midiAccess.inputs.values()) {\n      input.onmidimessage = this.getMIDIMessage;\n    }\n  }\n  getMIDIMessage = (midiMessage) => {\n    let data = midiMessage.data\n    if (data[1] <= 15) {\n      let e = {'target': {'dataset': {'target': data[1]}, 'value': data[2] } }\n      this.handleSliderChange(e)\n    } \n    // SHADER CHANGE MESSAGES\n    else if (data[1] === 30 && data[2] === 127) {\n      this.handleShaderChange({target: {value: '0'}});\n    } else if (data[1] === 31 && data[2] === 127) {\n      this.handleShaderChange({target: {value: '1'}});\n    } else if (data[1] === 32 && data[2] === 127) {\n      this.handleShaderChange({target: {value: '2'}});\n    }\n    // PRESET CHANGE MESSAGES\n    else if (data[1] >= 20 && data[1] <= 29 && data[2] === 127) {\n      if (data[1] === 29) {\n        this.handlePresetChange({target: {value: 9}});\n      } else {\n        this.handlePresetChange({target: {value: data[1] - 20}});\n      }\n    }\n    // SAVE PRESET MESSAGE\n    else if (data[1] === 40 && data[2] === 127) {\n      this.handlePresetSave();\n    }\n  }\n\n  render() {\n    if (!this.state.webglSupported) {\n      console.log('WebGL not supported! Please enable hardware acceleration in your browser settings or try a different device.');\n      return (\n        <div className={'canvas-fallback'}>\n          <div className={'fallback-content'}>\n            <p>This site requires WebGL</p>\n            <p>Turn on hardware acceleration or try a different browser/device</p>\n            <p>or <a href=\"https://dputnam.net\">go home</a></p>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <Three activeShader={this.state.activeShader} uniforms={this.state.uniforms} />\n        <div style={this.state.hideAllState === true \n                ? {'visibility':'hidden'} \n                : {'visibility':'visible'}}>\n          <div style={window.screen.width < 415\n                ? {'display':'block'}\n                : {'display':'flex'}}\n            className={'container'}>\n            <Nav windowState={this.state.windowState}\n              handler={this.handleWindowChange} />\n            <div className={this.showHideControls()}>\n              <ShaderControl \n                windowState={this.state.windowState} \n                activeShader={this.state.activeShader} \n                handler={this.handleShaderChange} />\n              <WaveControl \n                windowState={this.state.windowState} \n                activeShader={this.state.activeShader} \n                sliders={this.state.sliders} \n                handler={this.handleSliderChange} />\n              <FbxControl \n                windowState={this.state.windowState} \n                activeShader={this.state.activeShader} \n                sliders={this.state.sliders} \n                handler={this.handleSliderChange} />\n            </div>\n            <div className={'info'}>\n              <Presets \n                presets={this.state.presets}\n                windowState={this.state.windowState} \n                activePreset={this.state.activePreset} \n                changeHandler={this.handlePresetChange} \n                saveHandler={this.handlePresetSave} />\n              <About windowState={this.state.windowState} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}